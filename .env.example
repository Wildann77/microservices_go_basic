# Microservices Go - Environment Variables
# ========================================

# Environment
ENV=development

# JWT Configuration
JWT_SECRET=your-super-secret-jwt-key-change-in-production
JWT_EXPIRES_IN=24
JWT_ISSUER=microservices-go

# Database Configuration - User Service
USER_DB_HOST=localhost
USER_DB_PORT=5432
USER_DB_USER=postgres
USER_DB_PASSWORD=password
USER_DB_NAME=user
USER_DB_SSLMODE=disable

# Database Configuration - Order Service
ORDER_DB_HOST=localhost
ORDER_DB_PORT=5433
ORDER_DB_USER=postgres
ORDER_DB_PASSWORD=password
ORDER_DB_NAME=order
ORDER_DB_SSLMODE=disable

# Database Configuration - Payment Service
PAYMENT_DB_HOST=localhost
PAYMENT_DB_PORT=5434
PAYMENT_DB_USER=postgres
PAYMENT_DB_PASSWORD=password
PAYMENT_DB_NAME=payment
PAYMENT_DB_SSLMODE=disable

# RabbitMQ Configuration
RABBITMQ_HOST=localhost
RABBITMQ_PORT=5672
RABBITMQ_USER=guest
RABBITMQ_PASSWORD=guest
RABBITMQ_VHOST=/

# Service Ports (for local development)
USER_PORT=8081
ORDER_PORT=8082
PAYMENT_PORT=8083
GATEWAY_PORT=4000

# Auto-Migrate Configuration
# Set to 'false' to disable auto-migration on service start (useful for production)
USER_AUTO_MIGRATE=true
ORDER_AUTO_MIGRATE=true
PAYMENT_AUTO_MIGRATE=true

# Service URLs (for Gateway)
USER_SERVICE_URL=http://localhost:8081
ORDER_SERVICE_URL=http://localhost:8082
PAYMENT_SERVICE_URL=http://localhost:8083

# Stripe Configuration (for Payment Service)
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key
STRIPE_PUBLISHABLE_KEY=pk_test_your_stripe_publishable_key
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret

# Redis Configuration (for Rate Limiting)
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# Rate Limiting Configuration (requests per minute)
# Gateway: 1000 req/min (default)
GATEWAY_RATE_LIMIT_RPM=1000
GATEWAY_RATE_LIMIT_WINDOW=60

# User Service: 500 req/min (default)
USER_RATE_LIMIT_RPM=500
USER_RATE_LIMIT_WINDOW=60

# Order Service: 200 req/min (default)
ORDER_RATE_LIMIT_RPM=200
ORDER_RATE_LIMIT_WINDOW=60

# Payment Service: 100 req/min (default)
PAYMENT_RATE_LIMIT_RPM=100

# Cache Configuration (in seconds)
# User Service: 300 seconds (5 minutes)
USER_CACHE_TTL=300

# Order Service: 180 seconds (3 minutes)
ORDER_CACHE_TTL=180

# Payment Service: 180 seconds (3 minutes)
PAYMENT_CACHE_TTL=180

# Enable/disable caching per service
CACHE_ENABLED=true
PAYMENT_RATE_LIMIT_WINDOW=60

# Observability
JAEGER_ENDPOINT=http://localhost:14268/api/traces
ENABLE_TRACING=true
ENABLE_METRICS=true

# CORS
CORS_ALLOWED_ORIGINS=*

# Security
SECURE_HEADERS=true